"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3904],{86(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"boards/card-rendering","title":"Card Rendering","description":"Cards can have custom HTML/React rendering via the html field. Vento supports two rendering modes.","source":"@site/docs/boards/card-rendering.md","sourceDirName":"boards","slug":"/boards/card-rendering","permalink":"/docs/docs/boards/card-rendering","draft":false,"unlisted":false,"editUrl":"https://github.com/protofy-xyz/protofy/tree/main/apps/docs/docs/boards/card-rendering.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Automations & Scheduling","permalink":"/docs/docs/boards/automations"},"next":{"title":"Cards","permalink":"/docs/docs/boards/cards"}}');var t=r(1085),c=r(1184);const s={},i="Card Rendering",a={},l=[{value:"Rendering Modes",id:"rendering-modes",level:2},{value:"React Mode (<code>//@card/react</code>)",id:"react-mode-cardreact",level:3},{value:"IFrame Mode (<code>//@card/reactframe</code>)",id:"iframe-mode-cardreactframe",level:3},{value:"Available Components",id:"available-components",level:2},{value:"Layout Components",id:"layout-components",level:3},{value:"Card Components",id:"card-components",level:3},{value:"Data Components",id:"data-components",level:3},{value:"Chart Components",id:"chart-components",level:3},{value:"Media Components",id:"media-components",level:3},{value:"Utilities",id:"utilities",level:3},{value:"ViewLib Helpers",id:"viewlib-helpers",level:2},{value:"Container Helpers",id:"container-helpers",level:3},{value:"Data Display",id:"data-display",level:3},{value:"Action Helpers",id:"action-helpers",level:3},{value:"Media Helpers",id:"media-helpers",level:3},{value:"State Access",id:"state-access",level:3},{value:"React Helpers",id:"react-helpers",level:3},{value:"Example: Chart Card",id:"example-chart-card",level:2},{value:"Example: Interactive Button",id:"example-interactive-button",level:2},{value:"Example: Event Listener",id:"example-event-listener",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"card-rendering",children:"Card Rendering"})}),"\n",(0,t.jsxs)(n.p,{children:["Cards can have custom HTML/React rendering via the ",(0,t.jsx)(n.code,{children:"html"})," field. Vento supports two rendering modes."]}),"\n",(0,t.jsx)(n.h2,{id:"rendering-modes",children:"Rendering Modes"}),"\n",(0,t.jsxs)(n.h3,{id:"react-mode-cardreact",children:["React Mode (",(0,t.jsx)(n.code,{children:"//@card/react"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"Renders React components directly in the DOM. Best for simple components that need access to Vento's component library."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'//@card/react\n\nfunction Widget(card) {\n  const value = card.value;\n  \n  return (\n    <Tinted>\n      <ProtoThemeProvider forcedTheme={window.TamaguiTheme}>\n        <YStack f={1} ai="center" jc="center">\n          <Icon name={card.icon} size={48} color={card.color}/>\n          <CardValue value={value ?? "N/A"} />\n        </YStack>\n      </ProtoThemeProvider>\n    </Tinted>\n  );\n}\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"iframe-mode-cardreactframe",children:["IFrame Mode (",(0,t.jsx)(n.code,{children:"//@card/reactframe"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"Renders in an isolated iframe. Better for complex components, external libraries, or when you need isolation."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"//@card/reactframe\n\nfunction Widget(props) {\n  // props contains card data\n  // execute_action() is available for calling board actions\n  \n  return (\n    <div>\n      <h2>Current Value: {props.value}</h2>\n      <button onClick={() => execute_action('my_action', { param: 'value' })}>\n        Run Action\n      </button>\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"available-components",children:"Available Components"}),"\n",(0,t.jsxs)(n.p,{children:["Components are registered via ",(0,t.jsx)(n.code,{children:"packages/app/bundles/sharedComponents.tsx"}),":"]}),"\n",(0,t.jsx)(n.h3,{id:"layout-components",children:"Layout Components"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"XStack"})}),(0,t.jsx)(n.td,{children:"Horizontal flex container"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"YStack"})}),(0,t.jsx)(n.td,{children:"Vertical flex container"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"View"})}),(0,t.jsx)(n.td,{children:"Generic container"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Text"})}),(0,t.jsx)(n.td,{children:"Text element"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Paragraph"})}),(0,t.jsx)(n.td,{children:"Paragraph text"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Button"})}),(0,t.jsx)(n.td,{children:"Clickable button"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Input"})}),(0,t.jsx)(n.td,{children:"Text input field"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Spinner"})}),(0,t.jsx)(n.td,{children:"Loading indicator"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"card-components",children:"Card Components"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ActionCard"})}),(0,t.jsx)(n.td,{children:"Action card wrapper with run button"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CardValue"})}),(0,t.jsx)(n.td,{children:"Display card value (auto JSON tree)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ParamsForm"})}),(0,t.jsx)(n.td,{children:"Form for action parameters"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Icon"})}),(0,t.jsx)(n.td,{children:"Lucide icon renderer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Tinted"})}),(0,t.jsx)(n.td,{children:"Applies theme tinting"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ProtoThemeProvider"})}),(0,t.jsx)(n.td,{children:"Theme context wrapper"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"data-components",children:"Data Components"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"StorageView"})}),(0,t.jsx)(n.td,{children:"Object storage CRUD view"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ViewList"})}),(0,t.jsx)(n.td,{children:"List view with items"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ViewObject"})}),(0,t.jsx)(n.td,{children:"Object detail view"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"JSONView"})}),(0,t.jsx)(n.td,{children:"JSON tree viewer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"FileBrowser"})}),(0,t.jsx)(n.td,{children:"File browser UI"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ObjectViewLoader"})}),(0,t.jsx)(n.td,{children:"Load and display objects"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"chart-components",children:"Chart Components"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"PieChart"})}),(0,t.jsx)(n.td,{children:"Pie chart"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"BarChart"})}),(0,t.jsx)(n.td,{children:"Bar chart"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"LineChart"})}),(0,t.jsx)(n.td,{children:"Line chart"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AreaChart"})}),(0,t.jsx)(n.td,{children:"Area chart"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"RadarChart"})}),(0,t.jsx)(n.td,{children:"Radar chart"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"RadialBarChart"})}),(0,t.jsx)(n.td,{children:"Radial bar chart"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"media-components",children:"Media Components"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Markdown"})}),(0,t.jsx)(n.td,{children:"Markdown editor/viewer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Html"})}),(0,t.jsx)(n.td,{children:"HTML renderer"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CameraPreview"})}),(0,t.jsx)(n.td,{children:"Camera feed preview"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CameraCard"})}),(0,t.jsx)(n.td,{children:"Camera card component"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"CanvasDraw"})}),(0,t.jsx)(n.td,{children:"Drawing canvas"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"InteractiveGrid"})}),(0,t.jsx)(n.td,{children:"Interactive grid layout"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"utilities",children:"Utilities"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"API"})}),(0,t.jsxs)(n.td,{children:["HTTP client (",(0,t.jsx)(n.code,{children:"API.get"}),", ",(0,t.jsx)(n.code,{children:"API.post"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ProtoModel"})}),(0,t.jsx)(n.td,{children:"Data model class"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MqttWrapper"})}),(0,t.jsx)(n.td,{children:"MQTT subscription wrapper"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"KeySetter"})}),(0,t.jsx)(n.td,{children:"API key setter"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"KeyGate"})}),(0,t.jsx)(n.td,{children:"API key gate"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"useEventEffect"})}),(0,t.jsx)(n.td,{children:"Event subscription hook"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"useKeyState"})}),(0,t.jsx)(n.td,{children:"Key state hook"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"InteractiveIcon"})}),(0,t.jsx)(n.td,{children:"Clickable icon"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"viewlib-helpers",children:"ViewLib Helpers"}),"\n",(0,t.jsxs)(n.p,{children:["For HTML mode, helpers are available in ",(0,t.jsx)(n.code,{children:"extensions/boards/viewLib.js"}),":"]}),"\n",(0,t.jsx)(n.h3,{id:"container-helpers",children:"Container Helpers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Create card container\ncard({ content: '...', style: '', padding: '10px' })\n\n// Create icon\nicon({ name: 'search', size: 48, color: 'var(--color7)' })\n"})}),"\n",(0,t.jsx)(n.h3,{id:"data-display",children:"Data Display"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// JSON tree viewer (collapsible)\njsonToDiv(data, indent, expandedDepth)\n\n// Data table from array\ncardTable(dataArray)\n\n// Display value with auto-formatting\ncardValue({ value: '...', style: '', id: null })\n"})}),"\n",(0,t.jsx)(n.h3,{id:"action-helpers",children:"Action Helpers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Action card with params form\ncardAction({ data: card, content: '...' })\n\n// Parameters form\nparamsForm({ data: card })\n"})}),"\n",(0,t.jsx)(n.h3,{id:"media-helpers",children:"Media Helpers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// YouTube embed\nyoutubeEmbed({ url: 'https://youtube.com/watch?v=...' })\n\n// Image\nboardImage({ src: '...', alt: '', style: '' })\n\n// IFrame\niframe({ src: 'https://...' })\n"})}),"\n",(0,t.jsx)(n.h3,{id:"state-access",children:"State Access"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Get all board states\ngetStates()  // Returns window.protoStates\n\n// Get all board actions\ngetActions()  // Returns window.protoActions\n\n// Get storage data\ngetStorage(modelName, key, defaultValue)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"react-helpers",children:"React Helpers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Get card aspect ratio\ngetCardAspectRatio(cardId)\n\n// Hook for responsive aspect ratio\nuseCardAspectRatio(cardId)\n\n// Hook for hover state\nconst [active, handlers] = useActiveCard()\n\n// Get auth token\ngetToken()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example-chart-card",children:"Example: Chart Card"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"//@card/react\n\nfunction Widget(card) {\n  const data = card.value || [\n    { name: 'A', value: 400 },\n    { name: 'B', value: 300 },\n    { name: 'C', value: 200 }\n  ];\n  \n  return (\n    <Tinted>\n      <ProtoThemeProvider forcedTheme={window.TamaguiTheme}>\n        <YStack f={1} p=\"$2\">\n          <PieChart \n            data={data} \n            width={200} \n            height={200}\n          />\n        </YStack>\n      </ProtoThemeProvider>\n    </Tinted>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example-interactive-button",children:"Example: Interactive Button"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'//@card/react\n\nfunction Widget(card) {\n  const [count, setCount] = React.useState(0);\n  \n  const handleClick = () => {\n    setCount(c => c + 1);\n    execute_action(card.name, { count: count + 1 });\n  };\n  \n  return (\n    <Tinted>\n      <ProtoThemeProvider forcedTheme={window.TamaguiTheme}>\n        <YStack f={1} ai="center" jc="center">\n          <Text fontSize={24}>Count: {count}</Text>\n          <Button onPress={handleClick}>\n            Increment\n          </Button>\n        </YStack>\n      </ProtoThemeProvider>\n    </Tinted>\n  );\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"example-event-listener",children:"Example: Event Listener"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'//@card/react\n\nfunction Widget(card) {\n  const [data, setData] = React.useState(null);\n  \n  useEventEffect(\n    (payload) => setData(payload),\n    { path: \'sensors/temperature\' },\n    true  // Get initial event\n  );\n  \n  return (\n    <Tinted>\n      <ProtoThemeProvider forcedTheme={window.TamaguiTheme}>\n        <YStack f={1} ai="center" jc="center">\n          <Icon name="thermometer" size={32} color={card.color} />\n          <Text fontSize={36}>{data?.value ?? \'--\'}\xb0C</Text>\n        </YStack>\n      </ProtoThemeProvider>\n    </Tinted>\n  );\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},1184(e,n,r){r.d(n,{R:()=>s,x:()=>i});var d=r(4041);const t={},c=d.createContext(t);function s(e){const n=d.useContext(c);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),d.createElement(c.Provider,{value:n},e.children)}}}]);