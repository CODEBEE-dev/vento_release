"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9396],{1184(e,n,i){i.d(n,{R:()=>l,x:()=>d});var s=i(4041);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},4282(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"agents/esp32","title":"ESP32 / ESPHome","description":"Vento includes an integrated editor and flash system to connect ESP32-based devices to your network.","source":"@site/docs/agents/esp32.md","sourceDirName":"agents","slug":"/agents/esp32","permalink":"/docs/docs/agents/esp32","draft":false,"unlisted":false,"editUrl":"https://github.com/protofy-xyz/protofy/tree/main/apps/docs/docs/agents/esp32.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Android Agent","permalink":"/docs/docs/agents/android"},"next":{"title":"Go Agent","permalink":"/docs/docs/agents/go-agent"}}');var t=i(1085),r=i(1184);const l={},d="ESP32 / ESPHome",o={},c=[{value:"Features",id:"features",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Via Network View",id:"via-network-view",level:3},{value:"Device Configuration",id:"device-configuration",level:3},{value:"Visual Editor",id:"visual-editor",level:4},{value:"YAML Editor",id:"yaml-editor",level:4},{value:"Device Templates",id:"device-templates",level:2},{value:"Flashing",id:"flashing",level:2},{value:"USB Flash",id:"usb-flash",level:3},{value:"OTA (Over-the-Air)",id:"ota-over-the-air",level:3},{value:"Communication",id:"communication",level:2},{value:"Common Components",id:"common-components",level:2},{value:"Sensors",id:"sensors",level:3},{value:"Actuators",id:"actuators",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Device Not Connecting",id:"device-not-connecting",level:3},{value:"Flash Failed",id:"flash-failed",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"esp32--esphome",children:"ESP32 / ESPHome"})}),"\n",(0,t.jsx)(n.p,{children:"Vento includes an integrated editor and flash system to connect ESP32-based devices to your network."}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Visual YAML editor"})," - Define your device configuration visually"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Code editor"})," - Write ESPHome YAML directly"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"USB flashing"})," - Flash firmware directly from the browser"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OTA updates"})," - Update devices over WiFi"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Real-time monitoring"})," - See sensor data as it comes in"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsx)(n.h3,{id:"via-network-view",children:"Via Network View"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open Network view (click Vento logo)"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"+ Add"})," \u2192 ",(0,t.jsx)(n.strong,{children:"ESP32 Device"})]}),"\n",(0,t.jsx)(n.li,{children:"Enter a device name"}),"\n",(0,t.jsx)(n.li,{children:"Optionally select a device template"}),"\n",(0,t.jsx)(n.li,{children:"Configure your device using the visual editor or YAML"}),"\n",(0,t.jsx)(n.li,{children:"Flash the firmware via USB"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"device-configuration",children:"Device Configuration"}),"\n",(0,t.jsx)(n.p,{children:"You can configure your ESP32 in two ways:"}),"\n",(0,t.jsx)(n.h4,{id:"visual-editor",children:"Visual Editor"}),"\n",(0,t.jsx)(n.p,{children:"Use the visual interface to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add sensors (temperature, humidity, motion, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Add actuators (relays, LEDs, motors)"}),"\n",(0,t.jsx)(n.li,{children:"Configure WiFi settings"}),"\n",(0,t.jsx)(n.li,{children:"Set up MQTT connection to Vento"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"yaml-editor",children:"YAML Editor"}),"\n",(0,t.jsx)(n.p,{children:"Write ESPHome YAML directly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'esphome:\n  name: my_sensor\n  platform: ESP32\n  board: esp32dev\n\nwifi:\n  ssid: "YourWiFi"\n  password: "YourPassword"\n\nmqtt:\n  broker: 192.168.1.100\n  port: 1883\n\nsensor:\n  - platform: dht\n    pin: GPIO4\n    temperature:\n      name: "Temperature"\n    humidity:\n      name: "Humidity"\n    update_interval: 60s\n\nswitch:\n  - platform: gpio\n    pin: GPIO5\n    name: "Relay"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"device-templates",children:"Device Templates"}),"\n",(0,t.jsxs)(n.p,{children:["Vento includes pre-defined templates for common device configurations. Templates are stored in ",(0,t.jsx)(n.code,{children:"data/deviceDefinitions/"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"To use a template:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Select it when creating a new device"}),"\n",(0,t.jsx)(n.li,{children:"The YAML is pre-populated with the template configuration"}),"\n",(0,t.jsx)(n.li,{children:"Customize as needed"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"flashing",children:"Flashing"}),"\n",(0,t.jsx)(n.h3,{id:"usb-flash",children:"USB Flash"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect ESP32 to your computer via USB"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Flash"})," in the device editor"]}),"\n",(0,t.jsx)(n.li,{children:"Select the serial port"}),"\n",(0,t.jsx)(n.li,{children:"Wait for the flash to complete"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ota-over-the-air",children:"OTA (Over-the-Air)"}),"\n",(0,t.jsx)(n.p,{children:"After initial USB flash, you can update devices wirelessly:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Make changes to the YAML"}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Flash OTA"})]}),"\n",(0,t.jsx)(n.li,{children:"Device updates over WiFi"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"communication",children:"Communication"}),"\n",(0,t.jsx)(n.p,{children:"Once flashed, devices communicate with Vento via MQTT:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sensors"})," publish state updates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Actuators"})," receive commands"]}),"\n",(0,t.jsx)(n.li,{children:"Real-time data appears in the device's board"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-components",children:"Common Components"}),"\n",(0,t.jsx)(n.h3,{id:"sensors",children:"Sensors"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"ESPHome Platform"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Temperature/Humidity"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"dht"}),", ",(0,t.jsx)(n.code,{children:"bme280"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Motion"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"pir"}),", ",(0,t.jsx)(n.code,{children:"binary_sensor"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Light level"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"bh1750"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Distance"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ultrasonic"})})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"actuators",children:"Actuators"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Component"}),(0,t.jsx)(n.th,{children:"ESPHome Platform"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Relay"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"gpio switch"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"LED"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"light"}),", ",(0,t.jsx)(n.code,{children:"pwm"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Servo"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"servo"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"device-not-connecting",children:"Device Not Connecting"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Check WiFi credentials in YAML"}),"\n",(0,t.jsx)(n.li,{children:"Verify MQTT broker address is correct"}),"\n",(0,t.jsx)(n.li,{children:"Ensure device is on same network as Vento"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"flash-failed",children:"Flash Failed"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Check USB connection"}),"\n",(0,t.jsx)(n.li,{children:"Try a different USB cable"}),"\n",(0,t.jsx)(n.li,{children:"Hold BOOT button during flash on some boards"}),"\n",(0,t.jsx)(n.li,{children:"Check serial port permissions"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);