"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1351],{1013(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>o,frontMatter:()=>l,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"getting-started/commands","title":"Commands Reference","description":"Complete reference of Vento commands.","source":"@site/docs/getting-started/commands.md","sourceDirName":"getting-started","slug":"/getting-started/commands","permalink":"/docs/docs/getting-started/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/protofy-xyz/protofy/tree/main/apps/docs/docs/getting-started/commands.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/docs/docs/getting-started/quick-start"},"next":{"title":"Architecture","permalink":"/docs/docs/category/architecture"}}');var r=s(1085),i=s(1184);const l={sidebar_position:3},c="Commands Reference",t={},a=[{value:"Boot Commands",id:"boot-commands",level:2},{value:"The <code>prepare-dev</code> Phase",id:"the-prepare-dev-phase",level:3},{value:"Process Management",id:"process-management",level:2},{value:"User Management",id:"user-management",level:2},{value:"Create User",id:"create-user",level:3},{value:"Update",id:"update",level:2},{value:"Development",id:"development",level:2},{value:"Client Management",id:"client-management",level:2},{value:"Utilities",id:"utilities",level:2},{value:"CLI Usage",id:"cli-usage",level:2},{value:"Available CLI Commands",id:"available-cli-commands",level:3},{value:"Development Mode",id:"development-mode",level:2},{value:"Service Logs",id:"service-logs",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"commands-reference",children:"Commands Reference"})}),"\n",(0,r.jsx)(n.p,{children:"Complete reference of Vento commands."}),"\n",(0,r.jsx)(n.h2,{id:"boot-commands",children:"Boot Commands"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn start"})}),(0,r.jsxs)(n.td,{children:["Start Vento (runs ",(0,r.jsx)(n.code,{children:"prepare-dev"})," first)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn start-fast"})}),(0,r.jsxs)(n.td,{children:["Start without running ",(0,r.jsx)(n.code,{children:"prepare-dev"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn dev"})}),(0,r.jsxs)(n.td,{children:["Development mode with hot-reload (runs ",(0,r.jsx)(n.code,{children:"prepare-dev"})," first)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn dev-fast"})}),(0,r.jsxs)(n.td,{children:["Dev mode without running ",(0,r.jsx)(n.code,{children:"prepare-dev"})]})]})]})]}),"\n",(0,r.jsxs)(n.h3,{id:"the-prepare-dev-phase",children:["The ",(0,r.jsx)(n.code,{children:"prepare-dev"})," Phase"]}),"\n",(0,r.jsxs)(n.p,{children:["When you run ",(0,r.jsx)(n.code,{children:"yarn start"})," or ",(0,r.jsx)(n.code,{children:"yarn dev"})," (without ",(0,r.jsx)(n.code,{children:"-fast"}),"), Vento executes a ",(0,r.jsx)(n.strong,{children:"prepare-dev"})," phase before starting services. Each service can define a ",(0,r.jsx)(n.code,{children:"prepare-dev"})," script in its ",(0,r.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["What happens during ",(0,r.jsx)(n.code,{children:"prepare-dev"}),":"]})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Runs the root ",(0,r.jsx)(n.code,{children:"prepare.js"})," (downloads static pages, clients, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:["Builds all packages (",(0,r.jsx)(n.code,{children:"yarn build"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Runs ",(0,r.jsx)(n.code,{children:"yarn prepare-dev"})," in each workspace that defines it"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["What services typically do in ",(0,r.jsx)(n.code,{children:"prepare-dev"}),":"]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Initialize required directories"}),"\n",(0,r.jsxs)(n.li,{children:["Generate configuration files (e.g., ",(0,r.jsx)(n.code,{children:"TOKEN_SECRET"})," in ",(0,r.jsx)(n.code,{children:".env"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Download dependencies or compile assets if needed"}),"\n",(0,r.jsx)(n.li,{children:"Perform any one-time setup required before the service runs"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["When to use ",(0,r.jsx)(n.code,{children:"-fast"})," variants:"]})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"After your first successful start (environment is already configured)"}),"\n",(0,r.jsx)(n.li,{children:"During rapid development when you don't need re-initialization"}),"\n",(0,r.jsxs)(n.li,{children:["The Electron launcher uses ",(0,r.jsx)(n.code,{children:"-fast"})," because it handles setup separately"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Example: Defining ",(0,r.jsx)(n.code,{children:"prepare-dev"})," in a service:"]})}),"\n",(0,r.jsxs)(n.p,{children:["In ",(0,r.jsx)(n.code,{children:"apps/myservice/package.json"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "prepare-dev": "node prepare.js"\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Services that define ",(0,r.jsx)(n.code,{children:"prepare-dev"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apps/core"})," - Generates JWT secret"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apps/adminpanel"})," - Compiles Next.js to static HTML if needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apps/dendrite"})," - Initializes Matrix server config"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"apps/chat"})," - Setup chat service"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"process-management",children:"Process Management"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn status"})}),(0,r.jsx)(n.td,{children:"Show status of all processes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn stop"})}),(0,r.jsx)(n.td,{children:"Stop all services gracefully"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn kill"})}),(0,r.jsxs)(n.td,{children:["Alias for ",(0,r.jsx)(n.code,{children:"yarn stop"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn restart"})}),(0,r.jsx)(n.td,{children:"Restart all processes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn logs"})}),(0,r.jsx)(n.td,{children:"View process logs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn monit"})}),(0,r.jsx)(n.td,{children:"Monitor processes"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"user-management",children:"User Management"}),"\n",(0,r.jsx)(n.h3,{id:"create-user",children:"Create User"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add-user <username> <password> <type>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"username"})," - Login name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"password"})," - User password"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"type"})," - User type: ",(0,r.jsx)(n.code,{children:"admin"}),", ",(0,r.jsx)(n.code,{children:"user"}),", or ",(0,r.jsx)(n.code,{children:"device"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add-user admin mypassword admin\nyarn add-user john secret123 user\nyarn add-user sensor1 devicepass device\n"})}),"\n",(0,r.jsx)(n.h2,{id:"update",children:"Update"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn update"})}),(0,r.jsx)(n.td,{children:"Update Vento (agent, UI, pull latest)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn update-agent"})}),(0,r.jsx)(n.td,{children:"Update only the Go agent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn update-ui"})}),(0,r.jsx)(n.td,{children:"Update only the UI builds"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn enable-ui-dev"})}),(0,r.jsx)(n.td,{children:"Enable Next.js dev mode"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn disable-ui-dev"})}),(0,r.jsx)(n.td,{children:"Use static builds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn build"})}),(0,r.jsx)(n.td,{children:"Build all packages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn clean"})}),(0,r.jsx)(n.td,{children:"Clean build artifacts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn fix"})}),(0,r.jsx)(n.td,{children:"Fix dependency issues"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"client-management",children:"Client Management"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn build-agent"})}),(0,r.jsx)(n.td,{children:"Build Go client for current platform"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn download-agent"})}),(0,r.jsx)(n.td,{children:"Download pre-built Go client"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn update-agent"})}),(0,r.jsx)(n.td,{children:"Force re-download client"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn setup-agent"})}),(0,r.jsx)(n.td,{children:"Setup local agent config"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"utilities",children:"Utilities"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn update"})}),(0,r.jsx)(n.td,{children:"Update Vento (pull, update UI)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn assets"})}),(0,r.jsx)(n.td,{children:"Run assets management"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"yarn download-binaries"})}),(0,r.jsx)(n.td,{children:"Download all binaries"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"cli-usage",children:"CLI Usage"}),"\n",(0,r.jsx)(n.p,{children:"Interactive CLI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn vento <command>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"available-cli-commands",children:"Available CLI Commands"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn vento status   # Show status\nyarn vento start    # Start services\nyarn vento stop     # Stop services\nyarn vento logs     # View logs\n"})}),"\n",(0,r.jsx)(n.h2,{id:"development-mode",children:"Development Mode"}),"\n",(0,r.jsx)(n.p,{children:"For active development with hot-reload:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable UI development\nyarn enable-ui-dev\n\n# Start in dev mode\nyarn dev\n\n# When done, disable UI dev\nyarn disable-ui-dev\n"})}),"\n",(0,r.jsx)(n.h2,{id:"service-logs",children:"Service Logs"}),"\n",(0,r.jsx)(n.p,{children:"View logs in real-time:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# All logs\nyarn logs\n\n# Specific service\ntail -f logs/core.log\ntail -f logs/api.log\ntail -f logs/adminpanel.log\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Raw logs are in ",(0,r.jsx)(n.code,{children:"logs/raw/"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1184(e,n,s){s.d(n,{R:()=>l,x:()=>c});var d=s(4041);const r={},i=d.createContext(r);function l(e){const n=d.useContext(i);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);