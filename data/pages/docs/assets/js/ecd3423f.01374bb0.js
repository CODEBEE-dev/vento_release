"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6761],{1184(e,n,s){s.d(n,{R:()=>i,x:()=>o});var t=s(4041);const r={},d=t.createContext(r);function i(e){const n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(d.Provider,{value:n},e.children)}},2165(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>x,frontMatter:()=>i,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"extensions/overview","title":"Extensions Overview","description":"Extensions enhance Vento by adding screens, APIs, context functions, and more.","source":"@site/docs/extensions/overview.md","sourceDirName":"extensions","slug":"/extensions/overview","permalink":"/docs/docs/extensions/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/protofy-xyz/protofy/tree/main/apps/docs/docs/extensions/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Creating Context Functions","permalink":"/docs/docs/extensions/context-functions"},"next":{"title":"API Reference","permalink":"/docs/docs/category/api-reference"}}');var r=s(1085),d=s(1184);const i={},o="Extensions Overview",c={},a=[{value:"What Extensions Can Add",id:"what-extensions-can-add",level:2},{value:"Extension Structure",id:"extension-structure",level:2},{value:"Creating an Extension",id:"creating-an-extension",level:2},{value:"1. Create Directory",id:"1-create-directory",level:3},{value:"2. Add package.json",id:"2-add-packagejson",level:3},{value:"3. Add Context Functions",id:"3-add-context-functions",level:3},{value:"4. Add API Routes (Optional)",id:"4-add-api-routes-optional",level:3},{value:"Using Your Extension",id:"using-your-extension",level:2},{value:"Notable Extensions",id:"notable-extensions",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"extensions-overview",children:"Extensions Overview"})}),"\n",(0,r.jsx)(n.p,{children:"Extensions enhance Vento by adding screens, APIs, context functions, and more."}),"\n",(0,r.jsx)(n.h2,{id:"what-extensions-can-add",children:"What Extensions Can Add"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"File"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Context Functions"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"coreContext/index.ts"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"context.{name}.*"})," functions"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"API Routes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"coreApis.ts"})}),(0,r.jsx)(n.td,{children:"HTTP endpoints"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Admin Pages"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"adminPages.tsx"})}),(0,r.jsx)(n.td,{children:"UI screens"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Network Options"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"networkOption.tsx"})}),(0,r.jsx)(n.td,{children:'"+ Add" menu items'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Card Templates"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cards/*.json"})}),(0,r.jsx)(n.td,{children:"Pre-defined cards"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Visual Nodes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"masks/*.tsx"})}),(0,r.jsx)(n.td,{children:"Flow editor nodes"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"extension-structure",children:"Extension Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'extensions/myextension/\n\u251c\u2500\u2500 package.json           # Dependencies\n\u251c\u2500\u2500 coreApis.ts           # API routes\n\u251c\u2500\u2500 coreContext/\n\u2502   \u2514\u2500\u2500 index.ts          # Context functions\n\u251c\u2500\u2500 adminPages.tsx        # Admin panel pages\n\u251c\u2500\u2500 networkOption.tsx     # Network "+ Add" option\n\u251c\u2500\u2500 cards/                # Card templates\n\u2514\u2500\u2500 masks/                # Visual programming masks\n'})}),"\n",(0,r.jsx)(n.h2,{id:"creating-an-extension",children:"Creating an Extension"}),"\n",(0,r.jsx)(n.h3,{id:"1-create-directory",children:"1. Create Directory"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir extensions/myextension\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-add-packagejson",children:"2. Add package.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@extensions/myextension",\n  "version": "1.0.0",\n  "dependencies": {}\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-add-context-functions",children:"3. Add Context Functions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// extensions/myextension/coreContext/index.ts\nimport { getLogger } from 'protobase'\n\nexport const myFunction = async (options: {\n    param1: string,\n    done?: (result) => void,\n    error?: (err) => void\n}) => {\n    const { param1, done = (r) => r, error = () => {} } = options\n    \n    try {\n        const result = await doSomething(param1)\n        done(result)\n        return result\n    } catch (err) {\n        error(err)\n        throw err\n    }\n}\n\nexport default { myFunction }\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-add-api-routes-optional",children:"4. Add API Routes (Optional)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// extensions/myextension/coreApis.ts\nimport { handler } from 'protonode'\n\nexport default async (app, context) => {\n    app.get('/api/core/v1/myextension/status', handler(async (req, res, session) => {\n        res.json({ status: 'ok' })\n    }))\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-your-extension",children:"Using Your Extension"}),"\n",(0,r.jsx)(n.p,{children:"After creating, restart Vento:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn stop\nyarn start\n"})}),"\n",(0,r.jsx)(n.p,{children:"In card code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const result = await context.myextension.myFunction({\n    param1: 'hello'\n})\n"})}),"\n",(0,r.jsx)(n.h2,{id:"notable-extensions",children:"Notable Extensions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Extension"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boards"})}),(0,r.jsx)(n.td,{children:"Board/card management"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"events"})}),(0,r.jsx)(n.td,{children:"Event system"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"objects"})}),(0,r.jsx)(n.td,{children:"Data objects"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"chatgpt"})}),(0,r.jsx)(n.td,{children:"OpenAI integration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"llama"})}),(0,r.jsx)(n.td,{children:"Local LLM"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"keys"})}),(0,r.jsx)(n.td,{children:"Secrets management"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"devices"})}),(0,r.jsx)(n.td,{children:"Device management"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"esphome"})}),(0,r.jsx)(n.td,{children:"ESP32 integration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"automations"})}),(0,r.jsx)(n.td,{children:"Task scheduling"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"statemachines"})}),(0,r.jsx)(n.td,{children:"State machine support"})]})]})]})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);