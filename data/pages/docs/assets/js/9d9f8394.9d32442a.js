"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9013],{1184(e,s,n){n.d(s,{R:()=>o,x:()=>d});var i=n(4041);const r={},l=i.createContext(r);function o(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:s},e.children)}},3919(e,s,n){n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"Common issues and solutions when working with Vento.","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/docs/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/protofy-xyz/protofy/tree/main/apps/docs/docs/troubleshooting.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"MCP Protocol","permalink":"/docs/docs/api-reference/mcp"}}');var r=n(1085),l=n(1184);const o={},d="Troubleshooting",t={},a=[{value:"Startup Issues",id:"startup-issues",level:2},{value:"Port Already in Use",id:"port-already-in-use",level:3},{value:"Missing Dependencies",id:"missing-dependencies",level:3},{value:"Missing Binaries",id:"missing-binaries",level:3},{value:"Authentication Issues",id:"authentication-issues",level:2},{value:"Token Not Working",id:"token-not-working",level:3},{value:"Cannot Login",id:"cannot-login",level:3},{value:"Database Issues",id:"database-issues",level:2},{value:"Corrupted Database",id:"corrupted-database",level:3},{value:"Missing Data",id:"missing-data",level:3},{value:"AI Issues",id:"ai-issues",level:2},{value:"GPU/LLM Crashes",id:"gpullm-crashes",level:3},{value:"GPU Not Released",id:"gpu-not-released",level:3},{value:"OpenAI Not Working",id:"openai-not-working",level:3},{value:"UI Issues",id:"ui-issues",level:2},{value:"UI Not Loading",id:"ui-not-loading",level:3},{value:"Style Issues",id:"style-issues",level:3},{value:"MQTT Issues",id:"mqtt-issues",level:2},{value:"Messages Not Received",id:"messages-not-received",level:3},{value:"Device Not Discovered",id:"device-not-discovered",level:3},{value:"Process Management",id:"process-management",level:2},{value:"Service Won&#39;t Stop",id:"service-wont-stop",level:3},{value:"Check Status",id:"check-status",level:3},{value:"View Logs",id:"view-logs",level:3},{value:"Board Issues",id:"board-issues",level:2},{value:"Card Not Executing",id:"card-not-executing",level:3},{value:"State Not Updating",id:"state-not-updating",level:3},{value:"Board Name Invalid",id:"board-name-invalid",level:3},{value:"Extension Issues",id:"extension-issues",level:2},{value:"Extension Not Loading",id:"extension-not-loading",level:3},{value:"Common Error Messages",id:"common-error-messages",level:2},{value:"E_PERM",id:"e_perm",level:3},{value:"E_AUTH",id:"e_auth",level:3},{value:"File already exists",id:"file-already-exists",level:3},{value:"ZodError",id:"zoderror",level:3},{value:"Performance Issues",id:"performance-issues",level:2},{value:"Slow Response",id:"slow-response",level:3},{value:"Memory Usage High",id:"memory-usage-high",level:3},{value:"Getting Help",id:"getting-help",level:2}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(s.p,{children:"Common issues and solutions when working with Vento."}),"\n",(0,r.jsx)(s.h2,{id:"startup-issues",children:"Startup Issues"}),"\n",(0,r.jsx)(s.h3,{id:"port-already-in-use",children:"Port Already in Use"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Vento fails to start with port binding error"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Stop all Vento processes\nyarn stop\n\n# If still stuck, kill manually (Windows)\ntaskkill /F /IM node.exe\n\n# On Linux/macOS\npkill -f node\n"})}),"\n",(0,r.jsx)(s.h3,{id:"missing-dependencies",children:"Missing Dependencies"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Module not found errors"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn\nyarn build\n"})}),"\n",(0,r.jsx)(s.h3,{id:"missing-binaries",children:"Missing Binaries"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Go agent or Dendrite not found"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn download-agent\nyarn download-binaries\n"})}),"\n",(0,r.jsx)(s.h2,{id:"authentication-issues",children:"Authentication Issues"}),"\n",(0,r.jsx)(s.h3,{id:"token-not-working",children:"Token Not Working"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": 401 Unauthorized on all requests"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Cause"}),": Missing ",(0,r.jsx)(s.code,{children:"TOKEN_SECRET"})," environment variable"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Set in ",(0,r.jsx)(s.code,{children:".env"})," file:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"TOKEN_SECRET=your-secret-key-here\n"})}),"\n",(0,r.jsx)(s.h3,{id:"cannot-login",children:"Cannot Login"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Invalid credentials with correct password"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Reset or create admin user:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn add-user\n"})}),"\n",(0,r.jsx)(s.h2,{id:"database-issues",children:"Database Issues"}),"\n",(0,r.jsx)(s.h3,{id:"corrupted-database",children:"Corrupted Database"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Strange data or startup errors"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn stop\nrm -rf data/databases/*\nyarn start\n"})}),"\n",(0,r.jsx)(s.h3,{id:"missing-data",children:"Missing Data"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Boards/objects disappeared"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),": Ensure ",(0,r.jsx)(s.code,{children:"data/"})," directory wasn't deleted"]}),"\n",(0,r.jsx)(s.h2,{id:"ai-issues",children:"AI Issues"}),"\n",(0,r.jsx)(s.h3,{id:"gpullm-crashes",children:"GPU/LLM Crashes"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": llama-server crashes or causes system issues"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reduce GPU layers"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"LLAMA_GPU_LAYERS=20 yarn start\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Re-download binary"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"node scripts/download-llama.js\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check model file"}),":"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Verify ",(0,r.jsx)(s.code,{children:".gguf"})," file in ",(0,r.jsx)(s.code,{children:"data/models/"})," is valid"]}),"\n",(0,r.jsx)(s.li,{children:"Try a different model"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"gpu-not-released",children:"GPU Not Released"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": GPU memory not freed after stopping"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Always use ",(0,r.jsx)(s.code,{children:"yarn stop"})," instead of Ctrl+C. The process manager includes cleanup hooks for GPU resources."]}),"\n",(0,r.jsx)(s.h3,{id:"openai-not-working",children:"OpenAI Not Working"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": ChatGPT responses fail"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["API key set in ",(0,r.jsx)(s.code,{children:"/workspace/keys"})," or environment"]}),"\n",(0,r.jsx)(s.li,{children:"Valid API key with credits"}),"\n",(0,r.jsxs)(s.li,{children:["Model name is correct (e.g., ",(0,r.jsx)(s.code,{children:"gpt-4o-mini"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"ui-issues",children:"UI Issues"}),"\n",(0,r.jsx)(s.h3,{id:"ui-not-loading",children:"UI Not Loading"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Blank page at ",(0,r.jsx)(s.code,{children:"/workspace"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check static pages exist"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ls data/pages/\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Re-download UI"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn update-ui\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enable dev mode"})," (for development):"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn enable-ui-dev\nyarn dev\n"})}),"\n",(0,r.jsx)(s.h3,{id:"style-issues",children:"Style Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Symptom"}),": Components look broken"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Clear browser cache, hard refresh (Ctrl+Shift+R)"]}),"\n",(0,r.jsx)(s.h2,{id:"mqtt-issues",children:"MQTT Issues"}),"\n",(0,r.jsx)(s.h3,{id:"messages-not-received",children:"Messages Not Received"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"MQTT broker running on port 1883"}),"\n",(0,r.jsx)(s.li,{children:"WebSocket endpoint on port 3003"}),"\n",(0,r.jsx)(s.li,{children:"Topic pattern matches"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Debug"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Subscribe to all topics (requires mosquitto-clients)\nmosquitto_sub -h localhost -p 1883 -t '#'\n"})}),"\n",(0,r.jsx)(s.h3,{id:"device-not-discovered",children:"Device Not Discovered"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Device connected to same network"}),"\n",(0,r.jsx)(s.li,{children:"MQTT broker address correct in device config"}),"\n",(0,r.jsxs)(s.li,{children:["Discovery prefix matches (",(0,r.jsx)(s.code,{children:"homeassistant"})," by default)"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"process-management",children:"Process Management"}),"\n",(0,r.jsx)(s.h3,{id:"service-wont-stop",children:"Service Won't Stop"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn stop\n\n# If stuck:\nyarn kill\n\n# Force kill (Windows):\ntaskkill /F /IM node.exe\n\n# Force kill (Linux/macOS):\npkill -9 -f node\n"})}),"\n",(0,r.jsx)(s.h3,{id:"check-status",children:"Check Status"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn status\n"})}),"\n",(0,r.jsx)(s.h3,{id:"view-logs",children:"View Logs"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Via command\nyarn logs\n\n# Directly\ntail -f logs/core.log\ntail -f logs/api.log\ntail -f logs/adminpanel.log\n\n# Raw output\ntail -f logs/raw/*.log\n"})}),"\n",(0,r.jsx)(s.h2,{id:"board-issues",children:"Board Issues"}),"\n",(0,r.jsx)(s.h3,{id:"card-not-executing",children:"Card Not Executing"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Card code has no syntax errors"}),"\n",(0,r.jsxs)(s.li,{children:["All ",(0,r.jsx)(s.code,{children:"context.*"})," functions called correctly"]}),"\n",(0,r.jsx)(s.li,{children:"Parameters are correct type"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Debug"}),": Add logging in card code:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"board.log('Debug:', params)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"state-not-updating",children:"State Not Updating"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Board is running (check status)"}),"\n",(0,r.jsx)(s.li,{children:"MQTT subscription active"}),"\n",(0,r.jsx)(s.li,{children:"Card returns a value (for value cards)"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"board-name-invalid",children:"Board Name Invalid"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Requirement"}),": Board names must be lowercase with underscores only"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Valid:   my_board, sensor_1, test_agent\nInvalid: My-Board, sensor 1, test.agent\n"})}),"\n",(0,r.jsx)(s.h2,{id:"extension-issues",children:"Extension Issues"}),"\n",(0,r.jsx)(s.h3,{id:"extension-not-loading",children:"Extension Not Loading"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"package.json"})," exists in extension directory"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"coreApis.ts"})," or ",(0,r.jsx)(s.code,{children:"coreContext/index.ts"})," exports correctly"]}),"\n",(0,r.jsx)(s.li,{children:"No syntax errors in extension code"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Restart Vento after adding/modifying extensions"]}),"\n",(0,r.jsx)(s.h2,{id:"common-error-messages",children:"Common Error Messages"}),"\n",(0,r.jsx)(s.h3,{id:"e_perm",children:"E_PERM"}),"\n",(0,r.jsx)(s.p,{children:"Permission denied. User lacks required permissions."}),"\n",(0,r.jsx)(s.h3,{id:"e_auth",children:"E_AUTH"}),"\n",(0,r.jsx)(s.p,{children:"Authentication required. Token missing or invalid."}),"\n",(0,r.jsx)(s.h3,{id:"file-already-exists",children:"File already exists"}),"\n",(0,r.jsx)(s.p,{children:"Trying to create a resource that already exists."}),"\n",(0,r.jsx)(s.h3,{id:"zoderror",children:"ZodError"}),"\n",(0,r.jsx)(s.p,{children:"Validation failed. Check data matches schema."}),"\n",(0,r.jsx)(s.h2,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,r.jsx)(s.h3,{id:"slow-response",children:"Slow Response"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Reduce board complexity"}),"\n",(0,r.jsx)(s.li,{children:"Optimize card code"}),"\n",(0,r.jsx)(s.li,{children:"Use smaller AI models"}),"\n",(0,r.jsx)(s.li,{children:"Enable quickRefresh for DataView"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"memory-usage-high",children:"Memory Usage High"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Check"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Number of running processes"}),"\n",(0,r.jsx)(s.li,{children:"Large datasets in memory"}),"\n",(0,r.jsx)(s.li,{children:"MQTT message backlog"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),": Restart Vento periodically for long-running instances"]}),"\n",(0,r.jsx)(s.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check logs"})," in ",(0,r.jsx)(s.code,{children:"logs/"})," directory"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Join Discord"}),": ",(0,r.jsx)(s.a,{href:"https://discord.gg/VpeZxMFfYW",children:"https://discord.gg/VpeZxMFfYW"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Open issue"})," on GitHub"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);