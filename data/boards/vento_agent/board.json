{
    "name": "vento_agent",
    "visibility": ["chat"],
    "cards": [
        {
            "key": "action_agent_input",
            "width": 4,
            "height": 20,
            "icon": "globe",
            "name": "agent_input",
            "graphOrder": 1000,
            "description": "A job queue with a list of pending jobs and a current job",
            "type": "action",
            "editorOptions": {},
            "displayResponse": true,
            "params": {
                "item": "",
                "action": "action to perform in the queue: push, pop, clear",
                "response": ""
            },
            "configParams": {
                "item": {
                    "visible": true,
                    "defaultValue": "",
                    "type": "string"
                },
                "action": {
                    "visible": true,
                    "defaultValue": "",
                    "type": "string"
                },
                "response": {
                    "visible": true,
                    "defaultValue": "",
                    "type": "string"
                }
            },
            "presets": {
                "reply": {
                    "description": "Sends a reply to the current job",
                    "configParams": {
                        "action": {
                            "visible": false,
                            "defaultValue": "reply"
                        },
                        "item": {
                            "visible": false
                        },
                        "response": {
                            "visible": true
                        }
                    }
                },
                "skip": {
                    "description": "Skips the current job",
                    "configParams": {
                        "action": {
                            "defaultValue": "skip"
                        }
                    }
                },
                "reset": {
                    "description": "Resets the queue state",
                    "configParams": {
                        "action": {
                            "defaultValue": "clear"
                        }
                    }
                }
            },
            "enableAgentInputMode": true,
            "tokens": {},
            "displayButton": false,
            "manualAPIResponse": true,
            "layer": "agent"
        },
        {
            "key": "action_reply",
            "width": 2,
            "height": 6,
            "icon": "send",
            "type": "action",
            "name": "reply",
            "displayResponse": false,
            "displayIcon": false,
            "params": {
                "response": "response to send",
                "reset": "reset board"
            },
            "configParams": {
                "response": {
                    "visible": false,
                    "defaultValue": "board.ai_agent",
                    "type": "any"
                },
                "reset": {
                    "visible": true,
                    "defaultValue": "true",
                    "type": "boolean"
                }
            },
            "description": "Send the AI response back to the caller",
            "layer": "agent"
        },
        {
            "key": "action_reset",
            "width": 2,
            "height": 5,
            "icon": "refresh-cw",
            "type": "action",
            "name": "reset",
            "description": "Reset the board state",
            "params": {
                "included": "array of cards to include, or * for all",
                "excluded": "array of cards to exclude"
            },
            "configParams": {
                "included": {
                    "visible": false,
                    "defaultValue": "[\"*\"]",
                    "type": "array"
                },
                "excluded": {
                    "visible": false,
                    "defaultValue": "[\"agent_input\", \"user_request\", \"ai_agent\"]",
                    "type": "array"
                }
            },
            "displayResponse": false,
            "buttonLabel": "reset",
            "displayIcon": false,
            "layer": "agent"
        },
        {
            "key": "action_user_request",
            "width": 2,
            "height": 6,
            "icon": "user",
            "type": "action",
            "name": "user_request",
            "displayResponse": true,
            "displayIcon": false,
            "params": {
                "input": "action input"
            },
            "configParams": {
                "input": {
                    "visible": false,
                    "defaultValue": "board.agent_input.current.params",
                    "type": "any"
                }
            },
            "description": "Process the user request and forward to AI Agent",
            "layer": "agent",
            "links": [
                {
                    "name": "ai_agent",
                    "type": "post"
                }
            ]
        },
        {
            "key": "action_ai_agent",
            "width": 3,
            "height": 18,
            "name": "ai_agent",
            "icon": "bot",
            "color": "#8B5CF6",
            "description": "Execute a task using AI with a system description and specific plan",
            "displayResponse": true,
            "displayButton": true,
            "markdownDisplay": true,
            "type": "action",
            "params": {
                "system": "System description (from data/systems/)",
                "plan": "Task plan (from data/plans/)",
                "prompt": "Task to execute"
            },
            "configParams": {
                "system": {
                    "visible": true,
                    "defaultValue": "system",
                    "type": "string",
                    "selector": "systems"
                },
                "plan": {
                    "visible": true,
                    "defaultValue": "vento",
                    "type": "string",
                    "selector": "plans"
                },
                "prompt": {
                    "visible": false,
                    "defaultValue": "board.user_request.message",
                    "type": "any"
                }
            },
            "layer": "agent",
            "links": [
                {
                    "name": "reply",
                    "type": "post"
                }
            ],
            "theme": "dark",
            "domId": "9888a54f-e501-4b79-80b1-a2391e62be69",
            "cardState": {}
        },
        {
            "key": "action_send_to_user",
            "defaults": {
                "type": "action",
                "name": "action",
                "width": 2,
                "height": 7,
                "displayResponse": true,
                "icon": "send",
                "displayIcon": false,
                "params": {
                    "message": "message to send"
                },
                "configParams": {
                    "message": {
                        "visible": true,
                        "defaultValue": "",
                        "type": "string"
                    }
                },
                "description": "Send an intermediate message to the Matrix user via context.matrix.sendToUser",
                "customName": "send_to_user"
            },
            "group": "base",
            "tag": "cards",
            "name": "send_to_user",
            "id": "base.cards.action",
            "templateName": "Action",
            "type": "action",
            "width": 2,
            "height": 7,
            "displayResponse": true,
            "icon": "send",
            "displayIcon": false,
            "params": {
                "message": "message to send"
            },
            "configParams": {
                "message": {
                    "visible": true,
                    "defaultValue": "",
                    "type": "string"
                }
            },
            "description": "Send an intermediate message to the Matrix user via context.matrix.sendToUser",
            "customName": "send_to_user",
            "layer": "agent"
        },
        {
            "key": "action_open_tab",
            "type": "action",
            "name": "open_tab",
            "width": 2,
            "height": 7,
            "displayResponse": true,
            "icon": "layout",
            "displayIcon": false,
            "params": {
                "board_name": "name of the board to open"
            },
            "configParams": {
                "board_name": {
                    "visible": true,
                    "defaultValue": "",
                    "type": "string"
                }
            },
            "description": "Open a board as a new tab in the user's workspace UI",
            "layer": "agent"
        }
    ],
    "layouts": {
        "lg": [
            {
                "w": 18,
                "h": 20,
                "x": 0,
                "y": 0,
                "i": "action_agent_input",
                "isResizable": true
            },
            {
                "w": 10,
                "h": 6,
                "x": 0,
                "y": 20,
                "i": "action_reply",
                "isResizable": true
            },
            {
                "w": 8,
                "h": 5,
                "x": 10,
                "y": 20,
                "i": "action_reset",
                "isResizable": true
            },
            {
                "w": 10,
                "h": 6,
                "x": 18,
                "y": 0,
                "i": "action_user_request",
                "isResizable": true
            },
            {
                "w": 18,
                "h": 18,
                "x": 28,
                "y": 0,
                "i": "action_ai_agent",
                "isResizable": true
            },
            {
                "w": 10,
                "h": 7,
                "x": 0,
                "y": 26,
                "i": "action_send_to_user",
                "isResizable": true
            },
            {
                "w": 10,
                "h": 7,
                "x": 10,
                "y": 26,
                "i": "action_open_tab",
                "isResizable": true
            }
        ],
        "md": [
            {
                "w": 18,
                "h": 15,
                "x": 0,
                "y": 0,
                "i": "action_agent_input",
                "isResizable": true
            },
            {
                "w": 9,
                "h": 6,
                "x": 0,
                "y": 15,
                "i": "action_reply",
                "isResizable": true
            },
            {
                "w": 9,
                "h": 5,
                "x": 9,
                "y": 15,
                "i": "action_reset",
                "isResizable": true
            },
            {
                "w": 10,
                "h": 6,
                "x": 18,
                "y": 0,
                "i": "action_user_request",
                "isResizable": true
            },
            {
                "w": 18,
                "h": 18,
                "x": 28,
                "y": 0,
                "i": "action_ai_agent",
                "isResizable": true
            },
            {
                "i": "action_send_to_user",
                "x": 9,
                "y": 20,
                "w": 15,
                "h": 8,
                "isResizable": true
            },
            {
                "i": "action_open_tab",
                "x": 9,
                "y": 28,
                "w": 15,
                "h": 8,
                "isResizable": true
            }
        ],
        "sm": [
            {
                "w": 2,
                "h": 15,
                "x": 0,
                "y": 0,
                "i": "action_agent_input",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 5,
                "x": 0,
                "y": 15,
                "i": "action_reply",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 5,
                "x": 1,
                "y": 15,
                "i": "action_reset",
                "isResizable": true
            },
            {
                "w": 2,
                "h": 6,
                "x": 0,
                "y": 20,
                "i": "action_user_request",
                "isResizable": true
            },
            {
                "w": 2,
                "h": 18,
                "x": 0,
                "y": 26,
                "i": "action_ai_agent",
                "isResizable": true
            },
            {
                "i": "action_send_to_user",
                "x": 0,
                "y": 44,
                "w": 1,
                "h": 8,
                "isResizable": true
            },
            {
                "i": "action_open_tab",
                "x": 1,
                "y": 44,
                "w": 1,
                "h": 8,
                "isResizable": true
            }
        ],
        "xs": [
            {
                "w": 1,
                "h": 15,
                "x": 0,
                "y": 0,
                "i": "action_agent_input",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 5,
                "x": 0,
                "y": 15,
                "i": "action_reply",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 5,
                "x": 0,
                "y": 20,
                "i": "action_reset",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 6,
                "x": 0,
                "y": 25,
                "i": "action_user_request",
                "isResizable": true
            },
            {
                "w": 1,
                "h": 18,
                "x": 0,
                "y": 31,
                "i": "action_ai_agent",
                "isResizable": true
            },
            {
                "i": "action_send_to_user",
                "x": 0,
                "y": 49,
                "w": 1,
                "h": 8,
                "isResizable": true
            },
            {
                "i": "action_open_tab",
                "x": 0,
                "y": 57,
                "w": 1,
                "h": 8,
                "isResizable": true
            }
        ]
    },
    "rules": [
        ""
    ],
    "settings": {
        "autoplay": false
    },
    "icon": "bot",
    "autopilot": false,
    "graphLayout": {
        "group-agent": {
            "x": 0,
            "y": -60,
            "width": 3284,
            "height": 1180,
            "layer": "agent",
            "type": "group"
        },
        "agent_input": {
            "x": 100,
            "y": 160,
            "width": 600,
            "height": 800,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "reply": {
            "x": 2200,
            "y": 160,
            "width": 400,
            "height": 300,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "reset": {
            "x": 2200,
            "y": 560.0000000000002,
            "width": 400,
            "height": 250,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "user_request": {
            "x": 800,
            "y": 160,
            "width": 400,
            "height": 300,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "ai_agent": {
            "x": 1300,
            "y": 160,
            "width": 600,
            "height": 900,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "send_to_user": {
            "x": 2724.196728473846,
            "y": 164.2034971486472,
            "width": 400,
            "height": 350,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        },
        "open_tab": {
            "x": 2724.196728473846,
            "y": 564.2034971486472,
            "width": 400,
            "height": 350,
            "layer": "agent",
            "parent": "group-agent",
            "type": "node"
        }
    },
    "tags": [],
    "devices": [],
    "inputs": {
        "default": "/api/agents/v1/vento_agent/agent_input"
    },
    "version": 3,
    "savedAt": 1769039020701
}